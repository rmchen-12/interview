### 背景：
JavaScript存在变量提升这种特性，从而导致了很多与直觉不符的代码，这也是JavaScript的一个重要设计缺陷。
`ES5`之前只有`全局作用域`和`函数作用域`
为了解决这个问题，`ES6`引入了`块级作用域`

### 变量提升：
所谓的变量提升，是指在JavaScript代码执行过程中，JavaScript引擎把变量的声明部分和函数的声明部 分提升到代码开头的“行为”。变量被提升后，会给变量设置默认值，这个默认值就是我们熟悉的 undefined。

### 执行流程：
1. 先编译
   - 生成执行上下文 代码的运行环境
     - 比如调用一个函数，就会进入这个函数的执行上下文，确定该函数在执行期间用到的诸如this、变量、对象以及函数等
     - 在执行上下文中存在一个变量环境的对象(Viriable Environment)，该对象中保存了变量提升的内容
     - var a = 1`变量声明`的，引擎在环境对象中创建名为a的属性，并用undefined初始化
     - function a(){}`函数声明`的，函数体放到堆中，并在环境对象中创建名为a的属性，属性值指向堆中函数的位置
   - 可执行代码 
     - 生成字节码，等待执行
2. 再执行 
  执行“可执行代码”，按照顺序一行一行地执行 

### 同名怎么办
- 声明类型相同的话就后面覆盖前面
- 如果是变量声明和函数声明混合的话，函数声明会被变量声明覆盖，函数声明提升

### ES6引入块级作用，但是向下兼容，变量提升那套还会保留
let,const
- 执行上下文中增加一个词法环境，查找变量的时候先查词法环境 -> 变量环境 -> 按作用域链接着查
- 引入了块级作用域
- 暂时性死区
- 不允许重复声明